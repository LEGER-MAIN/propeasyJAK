# PropEasy - Sistema Web de Venta de Bienes Ra√≠ces

![PropEasy Logo](https://img.shields.io/badge/PropEasy-Real%20Estate%20Platform-blue)
![PHP Version](https://img.shields.io/badge/PHP-8.0+-green)
![MySQL Version](https://img.shields.io/badge/MySQL-8.0+-orange)
![License](https://img.shields.io/badge/License-MIT-yellow)
![Version](https://img.shields.io/badge/Version-v2.9.0-brightgreen)

## üìã Descripci√≥n

PropEasy es una plataforma web completa para la gesti√≥n y venta de bienes ra√≠ces. Permite a agentes inmobiliarios publicar propiedades, gestionar clientes, y facilitar la comunicaci√≥n entre compradores y vendedores a trav√©s de un sistema de chat integrado, herramientas avanzadas de gesti√≥n y un sistema inteligente de alertas del administrador.

## ‚ú® Caracter√≠sticas Principales

### üè† Gesti√≥n de Propiedades
- **Publicaci√≥n de propiedades** con m√∫ltiples im√°genes y validaci√≥n
- **Sistema de validaci√≥n** para agentes y administradores
- **B√∫squeda avanzada** por tipo, ciudad, precio y caracter√≠sticas
- **Galer√≠a de im√°genes** con miniaturas y carga optimizada
- **Estados de publicaci√≥n** (activa, en revisi√≥n, vendida, rechazada)
- **Paginaci√≥n inteligente** con 9 propiedades por p√°gina
- **Selecci√≥n manual de agentes** con b√∫squeda y carga infinita
- **Botones "Ver Detalles"** con efectos hover mejorados
- **Carga de im√°genes** optimizada con validaci√≥n mejorada
- **Edici√≥n y eliminaci√≥n** de propiedades por agentes
- **Cambio de estados** con comentarios y validaci√≥n
- **Enfoque exclusivo en venta** - Sin referencias a alquiler
- **Datos completos de propiedades** en solicitudes (tipo, habitaciones, ba√±os, √°rea)

### üë• Gesti√≥n de Usuarios
- **M√∫ltiples roles**: Clientes, Agentes, Administradores
- **Perfiles p√∫blicos** para agentes con estad√≠sticas
- **Sistema de autenticaci√≥n** seguro con verificaci√≥n de email
- **Recuperaci√≥n de contrase√±as** por email
- **Fotos de perfil** con gesti√≥n unificada y vista previa
- **Gesti√≥n de sesiones** mejorada
- **Correcci√≥n de rutas** de fotos de perfil
- **Variables de sesi√≥n** optimizadas
- **Dashboard personalizado** para clientes con estad√≠sticas
- **Gesti√≥n de propiedades solicitadas** con eliminaci√≥n segura
- **Informaci√≥n profesional** con especialidades y experiencia
- **Carga de fotos** con validaci√≥n y vista previa en tiempo real

### üí¨ Sistema de Chat Integrado
- **Chat en tiempo real** entre clientes y agentes
- **Conversaciones directas** sin necesidad de solicitudes
- **Notificaciones** de mensajes no le√≠dos
- **Historial de conversaciones** persistente
- **B√∫squeda de usuarios** para iniciar chats
- **WebSockets** para comunicaci√≥n en tiempo real
- **Chat simple** con agente preseleccionado
- **Botones de contacto** unificados en todas las p√°ginas
- **Redirecci√≥n autom√°tica** al chat con agente seleccionado
- **Preselecci√≥n autom√°tica** de conversaciones existentes
- **Creaci√≥n autom√°tica** de nuevas conversaciones
- **Experiencia consistente** en todas las p√°ginas del sistema
- **Interfaz limpia** sin botones de eliminaci√≥n de conversaciones

### üìÖ Sistema de Citas
- **Agendamiento de visitas** a propiedades
- **Calendario integrado** con vista mensual
- **Notificaciones autom√°ticas** por email
- **Estados de cita** (pendiente, aceptada, rechazada, completada)
- **Gesti√≥n de horarios** y disponibilidad

### ‚ù§Ô∏è Sistema de Favoritos
- **Guardado de propiedades** favoritas
- **Lista personalizada** para cada usuario
- **Acceso r√°pido** a propiedades de inter√©s
- **Contador de favoritos** en tiempo real
- **Acceso desde dropdown** del usuario para mejor est√©tica
- **Navegaci√≥n m√≥vil** optimizada en secci√≥n "Cuenta"
- **Exclusivo para clientes** - Agentes no pueden usar favoritos

### üìù Solicitudes de Compra
- **Formularios de solicitud** para propiedades
- **Seguimiento de estado** de solicitudes (nuevo, en revisi√≥n, reuni√≥n agendada, cerrado)
- **Comunicaci√≥n integrada** con agentes
- **Historial de solicitudes** por cliente
- **Eliminaci√≥n de solicitudes** con confirmaci√≥n y actualizaci√≥n visual
- **Estados permitidos** para eliminaci√≥n (nuevo, en revisi√≥n, cerrado)
- **Paginaci√≥n incremental** con carga de m√°s propiedades
- **Fotos de propiedades** y agentes en las tarjetas
- **Informaci√≥n completa** de propiedades (precio, ubicaci√≥n, caracter√≠sticas)
- **Datos detallados** de propiedades en solicitudes (tipo, habitaciones, ba√±os, √°rea)

### üè™ Mis Ventas (Propiedades Enviadas)
- **Gesti√≥n de propiedades** enviadas por clientes para publicaci√≥n
- **Estados de publicaci√≥n** (activa, en revisi√≥n, rechazada, vendida)
- **Estad√≠sticas detalladas** (total, activas, en revisi√≥n)
- **Informaci√≥n del agente** asignado a cada propiedad
- **Layout unificado** con el resto de la aplicaci√≥n
- **Vista de tarjetas** con im√°genes y detalles completos
- **Acceso desde navbar** principal para clientes
- **Correcci√≥n de consultas** SQL para im√°genes de propiedades

### üîî Sistema de Alertas del Administrador
- **Alertas inteligentes** del sistema en tiempo real
- **Eliminaci√≥n permanente** de alertas por el administrador
- **Persistencia de alertas eliminadas** en base de datos
- **No reaparici√≥n** de alertas eliminadas al recargar la p√°gina
- **Restauraci√≥n autom√°tica** despu√©s de 24 horas
- **Animaciones suaves** al eliminar alertas
- **Manejo robusto de errores** con fallback graceful
- **Tipos de alertas**: Reportes nuevos, propiedades pendientes, usuarios suspendidos, propiedades rechazadas
- **Priorizaci√≥n de alertas** por importancia
- **Interfaz intuitiva** con botones de cierre
- **Sistema opcional** que no afecta el funcionamiento general

### üîç Sistema de B√∫squeda Avanzado
- **B√∫squeda de usuarios** por nombre, email, username
- **Filtros por rol** (Administradores, Agentes, Clientes)
- **Filtros por estado** (Activos, Suspendidos)
- **B√∫squeda en tiempo real** con auto-submit
- **B√∫squeda manual** con bot√≥n y tecla Enter
- **Filtros combinables** para b√∫squedas precisas
- **Resaltado de t√©rminos** de b√∫squeda en resultados
- **Indicadores visuales** de filtros activos
- **Contador de resultados** din√°mico
- **Exportaci√≥n inteligente** que respeta filtros aplicados
- **Limpieza de filtros** con un solo clic
- **Interfaz responsive** optimizada para todos los dispositivos

### ‚ÑπÔ∏è P√°gina "Acerca de"
- **Informaci√≥n corporativa** completa de PropEasy
- **Secci√≥n Hero** con descripci√≥n principal
- **Misi√≥n y Visi√≥n** de la empresa
- **Valores corporativos** destacados
- **Historia de la empresa** con timeline
- **Equipo de trabajo** con perfiles
- **Informaci√≥n de contacto** profesional
- **Dise√±o responsive** y moderno
- **Integraci√≥n completa** con el layout principal

### üìã Sistema de Reportes
- **Reportes de irregularidades** con formulario moderno
- **Carga de archivos adjuntos** con validaci√≥n
- **Proceso de revisi√≥n** profesional con seguimiento

### üéØ Panel de Administraci√≥n
- **Dashboard completo** con estad√≠sticas en tiempo real
- **Gesti√≥n de usuarios** con b√∫squeda y filtros avanzados
- **Sistema de b√∫squeda inteligente** por nombre, email, rol y estado
- **Filtros combinables** para encontrar usuarios espec√≠ficos r√°pidamente
- **B√∫squeda en tiempo real** con auto-completado
- **Resaltado de t√©rminos** de b√∫squeda en resultados
- **Exportaci√≥n inteligente** que respeta filtros aplicados
- **Indicadores visuales** de filtros activos
- **Contador de resultados** din√°mico
- **Gesti√≥n de propiedades** con validaci√≥n y aprobaci√≥n
- **Sistema de alertas inteligente** con eliminaci√≥n permanente
- **Actividades recientes** con paginaci√≥n y filtros
- **Todas las actividades** integradas en el sidebar del admin
- **Estad√≠sticas detalladas** de usuarios, propiedades y solicitudes
- **Gr√°ficos interactivos** de tendencias del sistema
- **Gesti√≥n de reportes** con resoluci√≥n y seguimiento
- **Logs del sistema** con filtros y b√∫squeda
- **Backup y restore** de la base de datos
- **Configuraci√≥n del sistema** centralizada
- **Dise√±o compacto y profesional** para todas las secciones
- **Navegaci√≥n intuitiva** con sidebar integrado
- **Filtros avanzados** para b√∫squeda de actividades
- **Paginaci√≥n optimizada** para grandes vol√∫menes de datos
- **Estados de reporte** (pendiente, atendido, descartado)
- **Informaci√≥n confidencial** garantizada
- **Dise√±o mejorado** con colores profesionales
- **Persistencia de alertas eliminadas** en base de datos
- **Restauraci√≥n autom√°tica** de alertas despu√©s de 24 horas
- **Manejo robusto de errores** en sistema de alertas

### üé® Interfaz y Dise√±o
- **Dise√±o responsive** optimizado para m√≥viles y desktop
- **Paleta de colores** profesional (azul marino, verde esmeralda, dorado)
- **Componentes reutilizables** con estilos consistentes
- **Animaciones suaves** y transiciones elegantes
- **Iconograf√≠a Font Awesome** para mejor UX
- **Footer actualizado** con informaci√≥n de contacto profesional
- **P√°gina "Acerca de"** completa con misi√≥n, visi√≥n y equipo
- **Navegaci√≥n intuitiva** con breadcrumbs y enlaces claros

### üîß Funcionalidades T√©cnicas
- **Arquitectura MVC** bien estructurada
- **Sistema de rutas** flexible y escalable
- **Base de datos optimizada** con √≠ndices apropiados
- **Validaci√≥n de datos** en frontend y backend
- **Sistema de logs** para debugging y monitoreo
- **Backup autom√°tico** de base de datos
- **Configuraci√≥n centralizada** y f√°cil de mantener
- **C√≥digo limpio** sin archivos de debug o pruebas
- **Sistema de alertas inteligente** con persistencia en base de datos
- **Manejo robusto de errores** con fallback graceful
- **Gesti√≥n de estado** de alertas eliminadas
- **Sistema de b√∫squeda optimizado** con consultas SQL eficientes
- **B√∫squeda en tiempo real** con JavaScript y AJAX
- **Filtros din√°micos** con combinaci√≥n de criterios
- **Exportaci√≥n de datos** con respeto a filtros aplicados

## üöÄ Instalaci√≥n

### ‚ö° Instalaci√≥n Autom√°tica (Recomendada)

Para una instalaci√≥n r√°pida y autom√°tica en Laragon:

1. **Copiar el proyecto** a tu directorio de Laragon
2. **Ejecutar el instalador**:
   ```bash
   cd C:\laragon\www\propeasy
   php install_propeasy.php
   ```

El script autom√°ticamente:
- ‚úÖ Verifica requisitos del sistema
- ‚úÖ Crea estructura de directorios
- ‚úÖ Configura la base de datos
- ‚úÖ Instala dependencias
- ‚úÖ Verifica la instalaci√≥n

**Ver [INSTALACION_RAPIDA.md](INSTALACION_RAPIDA.md) para instrucciones detalladas.**

### üîß Instalaci√≥n Manual

#### Requisitos del Sistema
- **PHP**: 8.0 o superior
- **MySQL**: 8.0 o superior
- **Servidor Web**: Apache/Nginx
- **Extensiones PHP**: PDO, MySQL, GD, JSON, mbstring

#### Pasos de Instalaci√≥n

1. **Clonar el repositorio**
   ```bash
   git clone https://github.com/tu-usuario/propeasy.git
   cd propeasy
   ```

2. **Configurar la base de datos**
   - Crear una base de datos MySQL
   - Importar el archivo `database/scheme.sql`
   - Copiar `config/database.example.php` a `config/database.php`
   - Configurar las credenciales de la base de datos

3. **Configurar el servidor web**
   - Configurar el document root en la carpeta `public/`
   - Habilitar mod_rewrite para Apache
   - Configurar permisos de escritura en `logs/` y `public/uploads/`

4. **Instalar dependencias**
   ```bash
   composer install
   ```

5. **Configurar variables de entorno**
   - Editar `config/config.php` seg√∫n tus necesidades
   - Configurar URLs y configuraciones de email

## üìÅ Estructura del Proyecto

```
propeasy/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/     # Controladores MVC
‚îÇ   ‚îú‚îÄ‚îÄ models/         # Modelos de datos (incluye AlertManager)
‚îÇ   ‚îú‚îÄ‚îÄ views/          # Vistas y templates
‚îÇ   ‚îú‚îÄ‚îÄ core/           # N√∫cleo del sistema
‚îÇ   ‚îú‚îÄ‚îÄ helpers/        # Funciones auxiliares
‚îÇ   ‚îî‚îÄ‚îÄ websocket_server.php
‚îú‚îÄ‚îÄ config/             # Archivos de configuraci√≥n
‚îú‚îÄ‚îÄ database/           # Esquemas de base de datos (incluye alertas_eliminadas)
‚îú‚îÄ‚îÄ logs/               # Archivos de log
‚îú‚îÄ‚îÄ public/             # Archivos p√∫blicos (document root)
‚îÇ   ‚îú‚îÄ‚îÄ css/           # Estilos CSS
‚îÇ   ‚îú‚îÄ‚îÄ js/            # JavaScript
‚îÇ   ‚îî‚îÄ‚îÄ uploads/       # Archivos subidos
‚îú‚îÄ‚îÄ scripts/            # Scripts de mantenimiento
‚îú‚îÄ‚îÄ vendor/             # Dependencias de Composer
‚îú‚îÄ‚îÄ install_propeasy.php # Instalador autom√°tico
‚îú‚îÄ‚îÄ INSTALACION_RAPIDA.md # Gu√≠a de instalaci√≥n r√°pida
‚îî‚îÄ‚îÄ composer.json       # Configuraci√≥n de dependencias
```

## üîß Configuraci√≥n

### Configuraci√≥n de Base de Datos
Editar `config/database.php`:
```php
define('DB_HOST', 'localhost');
define('DB_NAME', 'propeasy_db');
define('DB_USER', 'tu_usuario');
define('DB_PASS', 'tu_contrase√±a');
```

### Configuraci√≥n de Email
Configurar en `config/config.php`:
```php
define('SMTP_HOST', 'smtp.gmail.com');
define('SMTP_PORT', 587);
define('SMTP_USER', 'tu_email@gmail.com');
define('SMTP_PASS', 'tu_contrase√±a_app');
```

### Configuraci√≥n de WebSocket
Para el chat en tiempo real:
```bash
php app/websocket_server.php
```

## üë• Roles de Usuario

### Cliente
- Ver propiedades disponibles
- Enviar solicitudes de compra
- Gestionar favoritos
- Agendar citas
- Comunicarse con agentes via chat
- Enviar propiedades para publicaci√≥n

### Agente
- Publicar y gestionar propiedades
- Recibir y gestionar solicitudes
- Comunicarse con clientes
- Gestionar citas
- Ver estad√≠sticas de ventas

### Administrador
- Gesti√≥n completa del sistema
- Aprobar/rechazar propiedades
- Gestionar usuarios y roles
- Ver reportes y estad√≠sticas
- Configuraci√≥n del sistema

## üõ†Ô∏è Mantenimiento

### Scripts Disponibles
- `install_propeasy.php` - **Instalador autom√°tico** (principal)
- `scripts/cleanup_project.php` - Limpieza del proyecto
- `scripts/seed_activity_logs.php` - Generar logs de actividad
- `scripts/send_appointment_reminders.php` - Recordatorios de citas

### Backup de Base de Datos
```bash
mysqldump -u usuario -p propeasy_db > backup_$(date +%Y%m%d_%H%M%S).sql
```

## üîí Seguridad

- **Validaci√≥n de datos** en frontend y backend
- **Protecci√≥n CSRF** en formularios
- **Sanitizaci√≥n de inputs** para prevenir XSS
- **Contrase√±as hasheadas** con bcrypt
- **Sesiones seguras** con regeneraci√≥n de ID
- **Control de acceso** basado en roles

## üìû Contacto

- **Email**: propeasycorp@gmail.com
- **Tel√©fono**: +1 809 359 5322
- **Direcci√≥n**: Santo Domingo, Rep√∫blica Dominicana
- **Horarios**: Lun - Vie: 8:00 AM - 6:00 PM

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

## ü§ù Contribuci√≥n

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/AmazingFeature`)
3. Commit tus cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abre un Pull Request

## üìù Changelog

### v2.9.0 (2025-01-24)
- ‚úÖ **Sistema de b√∫squeda avanzado** para gesti√≥n de usuarios
- ‚úÖ **B√∫squeda en tiempo real** con auto-submit y filtros combinables
- ‚úÖ **Filtros por rol y estado** para encontrar usuarios espec√≠ficos
- ‚úÖ **Resaltado de t√©rminos** de b√∫squeda en resultados
- ‚úÖ **Indicadores visuales** de filtros activos y contador de resultados
- ‚úÖ **Exportaci√≥n inteligente** que respeta filtros aplicados
- ‚úÖ **Interfaz responsive** optimizada para todos los dispositivos
- ‚úÖ **Limpieza de filtros** con un solo clic
- ‚úÖ **Nuevo m√©todo** `searchUsersForAdmin()` en modelo User
- ‚úÖ **Controlador actualizado** para manejar par√°metros de b√∫squeda
- ‚úÖ **Vista mejorada** con formulario funcional y JavaScript optimizado
- ‚úÖ Sistema de alertas inteligente con eliminaci√≥n permanente
- ‚úÖ Persistencia de alertas eliminadas en base de datos
- ‚úÖ No reaparici√≥n de alertas eliminadas al recargar la p√°gina
- ‚úÖ Restauraci√≥n autom√°tica de alertas despu√©s de 24 horas
- ‚úÖ Animaciones suaves al eliminar alertas del dashboard
- ‚úÖ Manejo robusto de errores con fallback graceful
- ‚úÖ Tipos de alertas: Reportes nuevos, propiedades pendientes, usuarios suspendidos, propiedades rechazadas
- ‚úÖ Priorizaci√≥n de alertas por importancia
- ‚úÖ Interfaz intuitiva con botones de cierre
- ‚úÖ Sistema opcional que no afecta el funcionamiento general
- ‚úÖ Correcci√≥n del error 500 en dashboard del admin
- ‚úÖ Modelo AlertManager con m√©todos completos de gesti√≥n
- ‚úÖ Tabla alertas_eliminadas en base de datos
- ‚úÖ JavaScript mejorado para manejo de alertas
- ‚úÖ **Script de instalaci√≥n autom√°tica** para Laragon
- ‚úÖ **Gu√≠a de instalaci√≥n r√°pida** con instrucciones detalladas
- ‚úÖ **Configuraci√≥n autom√°tica** de base de datos y dependencias
- ‚úÖ **Verificaci√≥n completa** de requisitos del sistema
- ‚úÖ README.md actualizado con nuevas funcionalidades

### v2.8.0 (2025-01-24)
- ‚úÖ Panel de administraci√≥n completamente renovado
- ‚úÖ Dashboard con estad√≠sticas en tiempo real y alertas din√°micas
- ‚úÖ Secci√≥n "Todas las Actividades" integrada en sidebar del admin
- ‚úÖ Dise√±o compacto y profesional para todas las secciones admin
- ‚úÖ Sistema de alertas funcional con prioridades y ordenamiento
- ‚úÖ Eliminaci√≥n del √≠ndice "Total Ventas" y reemplazo con "Propiedades Pendientes"
- ‚úÖ Filtros avanzados y paginaci√≥n optimizada para actividades
- ‚úÖ Navegaci√≥n intuitiva con sidebar integrado
- ‚úÖ Limpieza completa de console.log y archivos de debug
- ‚úÖ P√°gina "Acerca de" con informaci√≥n corporativa completa
- ‚úÖ Footer actualizado con informaci√≥n de contacto profesional
- ‚úÖ README.md actualizado con todas las nuevas caracter√≠sticas

### v2.7.0 (2025-01-24)
- ‚úÖ P√°gina "Acerca de" creada y enlazada
- ‚úÖ N√∫mero de tel√©fono formateado profesionalmente (+1 809 359 5322)
- ‚úÖ Datos completos de propiedades en solicitudes
- ‚úÖ Eliminaci√≥n de archivos de debug y console.log
- ‚úÖ Interfaz de chat limpia sin botones de eliminaci√≥n
- ‚úÖ README.md actualizado con informaci√≥n completa

### v2.6.0 (2025-01-23)
- ‚úÖ Sistema de chat mejorado
- ‚úÖ Gesti√≥n de solicitudes optimizada
- ‚úÖ Interfaz responsive mejorada
- ‚úÖ Sistema de reportes implementado

### v2.5.0 (2025-01-22)
- ‚úÖ Sistema de citas implementado
- ‚úÖ Dashboard de agentes mejorado
- ‚úÖ Sistema de favoritos optimizado

---

**PropEasy** - Conectando sue√±os inmobiliarios con realidades desde Rep√∫blica Dominicana üá©üá¥ 